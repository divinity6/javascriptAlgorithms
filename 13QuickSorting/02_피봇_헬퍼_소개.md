## Pivot Helper

- 퀵 정렬의 첫 번째 부분을 작성
  - ( 합병 정렬에서 합병 헬퍼를 먼저 작성했듯이... )


- 배열이 주어지면 요소하나를 피벗 포인트로 지정하여, 배열 속 요소를 재배치하는 함수를 작성한다


- 피벗보다 작은 값들은 모두 왼쪽으로 이동하며, 피벗보다 큰 값은 모두 오른쪽으로 이동한다


- 그러나, 양쪽의 순서는 중요하지 않다
  - ( 피벗보다 작거나 커야할 뿐이다 )
  - 피벗 기준 왼쪽과 오른쪽의 순서는 중요하지 않다


- 또다른 중요한 사항 중 하나는 헬퍼가 **그자리에서** 수행해야 한다는 점이다


- 새 배열을 만들면 안되고, 피벗 인덱스를 반환해야 한다는 점이다


- 제 자리에서 모두 수행하므로 새 배열을 만들지 않는다

---

### Picking a pivot( pivot 선택 )

- 피벗을 선택하는 위치에 따라 퀵 정렬의 실행 시간이 달라진다


- 이상적으로는 데이터 집합의 중간값이 되도록 선택해야 한다


- 그러나, 데이터가 무엇인지, 순서가 어떻게 되어있는지 모른다면 쉽지 않다
  - 따라서, 첫 번째, or 마지막, or 무작위 요소를 선택한다
  - 이번 연습에서는 단지 첫 번째 요소를 피벗으로 선택할 뿐이다
  - ( 그러나 이렇게하면 사실 빅 오에 영향을 끼친다 )

---

### Pivot Helper Example

````javascript

    let arr = [ 5 , 2 , 1 , 8 , 4 , 7 , 6 , 3 ];

    pivot( arr ); // 4
    
    arr;
    // any one of these is an acceptable mutation:
    // [ 2 , 1 , 4 , 3 , 5 , 8 , 7 , 6 ]
    // [ 1 , 4 , 3 , 2 , 5 , 7 , 6 , 8 ] 
    // [ 3 , 2 , 1 , 4 , 5 , 7 , 6 , 8 ] 
    // [ 4 , 1 , 2 , 3 , 5 , 6 , 7 , 8 ] 
    // there are other acceptable mutaions too!

````

- 위의 pivot 함수 에 arr 을 넣으면 4( index ) 를 반환할 것이다
  - ( 배열을 반환하는 것이 아니다 )


- 그러나 배열자체가 바뀌게 될 것이다


- 첫 번째 요소를 피벗으로 선택한 것이다


- 첫 번째 요소가 5 이기 때문에 왼쪽의 모든 숫자가 5 보다 작도록 배열을 재배치 하게한다


- 왼쪽 요소들의 순서는 중요하지 않다


- 위의 결과값들은 나올 수 있는 경우의 수 몇가지를 예시로 든거다


- 기억해야할 중요한 것은, 피봇 기준으로 왼쪽, 오른쪽에 실제로 어떤 순서로 되어있느냐는 중요하지 않다는 것이다


- 중요한건 5 가 올바른 위치에 있고, 인덱스 4 를 반환한다는 것이다
  - 즉, index 4 는 정렬된 위치라는 것

---

### Pivot Pseudocode( 피봇 의사코드 )

- pivot 또는 partition 이라고 불리는 함수를 작성한다
  - 이 함수는 배열, 시작인덱스( start index ) , 끝 인덱스( end index )라는 세 개의 파라미터를 받는다
  - 기본 값으로 시작인덱스는 0, 끝 인덱스는 배열의 길이 - 1 이다


- 그 다음 배열의 시작 부분에서 pivot 을 선택한다
  - 중간, 마지막, 무작위 위치로 바꿀 수 있다는 것을 기억하라
  - 편의상 맨 첫 부분을 선택한다.
  - 그다음 현재 pivot 인덱스를 변수( p ) 로 저장한다
  - 이렇게 마지막 pivot 을 바꿀 위치를 계속 확인한다


- 시작부터 끝까지 배열에 루프를 수행한다
  - 루프를 돌면서 해당 el 보다 pivot 이 클 경우 pivot 인덱스 변수( p ) + 1 증가시키고,
  - 해당 el 과 pivot 인덱스 변수( p ) 위치의 el 을 교환한다


- 그리고 맨 마지막에는 시작했던 pivot( start index ) 와 pivot 인덱스 변수( p )의 위치를 바꾼다


- pivot 인덱스 변수( p )를 반환한다